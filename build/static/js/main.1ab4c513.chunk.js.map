{"version":3,"sources":["components/Person.js","components/Filter.js","components/PersonForm.js","components/Notification.js","services/personUtil.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","id","Filter","newFilter","handleFilterChange","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Notification","message","includes","style","color","background","fontSize","padding","borderStyle","borderRadius","marginBottom","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","update","put","remove","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","showAll","setShowAll","setMessage","useEffect","initialPersons","console","log","personsToShow","filter","toLowerCase","window","confirm","alert","updatePerson","modifiedPerson","updatedPerson","map","p","setTimeout","catch","error","event","target","preventDefault","some","find","personObject","addedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1ab4c513.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({person, deletePerson}) => {\r\n    return (\r\n    <div>\r\n        <p>\r\n            {person.name} {person.number}\r\n            <button onClick={() => deletePerson(person.id, person.name)}>Delete</button>\r\n        </p>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Filter = ({newFilter, handleFilterChange}) => {\r\n    return (\r\n    <div>\r\n        filter shown with <input value={newFilter} onChange={handleFilterChange}/>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = props => {\r\n    return (\r\n        <form onSubmit={props.addPerson}>\r\n            <div>\r\n                name: <input value={props.newName} onChange={props.handleNameChange}/>\r\n            </div>\r\n            <div>\r\n                number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n    const notificationStyle = {\r\n        color:'green',\r\n        background: 'lightgrey',\r\n        fontSize: 25,\r\n        padding: 10,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        marginBottom: 10\r\n    }\r\n    const errorStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 25,\r\n        padding: 10,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        marginBottom: 10\r\n    }\r\n    \r\n    if (message === null){\r\n        return null;\r\n    }\r\n    if(message.includes('Error')){\r\n        return(\r\n            <div style={errorStyle}>\r\n            {message}\r\n        </div>\r\n        )\r\n    }\r\n    return (\r\n        <div style={notificationStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => axios.delete(`${baseUrl}/${id}`)\r\n\r\nconst personService = {getAll, create, update, remove}\r\n\r\nexport default personService","import React, { useState, useEffect } from 'react'\r\nimport Person from './components/Person'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/personUtil'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newFilter, setNewFilter] = useState('')\r\n  const [showAll, setShowAll] = useState(true)\r\n  const [message, setMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n          console.log('promise fulfilled')\r\n          setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const personsToShow = showAll \r\n    ? persons \r\n    : persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n\r\n  const handleNameChange = event => setNewName(event.target.value)\r\n  const handleNumberChange = event => setNewNumber(event.target.value)\r\n  const handleFilterChange = event => {\r\n    setNewFilter(event.target.value)\r\n    setShowAll(false)\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    console.log('button clicked', event.target)\r\n    \r\n    if (persons.some(person => person.name === newName)){\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n        const person = persons.find(p => p.name === newName)\r\n        updatePerson(person)\r\n      } else {\r\n        return null\r\n      }\r\n    } else {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber,\r\n      }\r\n      \r\n      personService\r\n        .create(personObject)\r\n        .then(addedPerson => {\r\n          setPersons(persons.concat(addedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setMessage(`Added ${addedPerson.name}`)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 3000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const deletePerson = (id, name) => {\r\n    if(window.confirm(`Delete ${name}?`)){\r\n      personService\r\n        .remove(id)\r\n        .then(() => {\r\n        window.alert(`${name} successfully removed from phonebook.`)\r\n        setPersons(persons.filter(person => person.id !== id))\r\n      })\r\n    } \r\n  }\r\n\r\n  const updatePerson = person => {\r\n    const modifiedPerson = {...person, number: newNumber}\r\n    personService\r\n      .update(person.id, modifiedPerson)\r\n      .then(updatedPerson => {\r\n      setPersons(persons.map(p => p.id !== person.id ? p : updatedPerson))\r\n      setNewName('')\r\n      setNewNumber('')\r\n      setMessage(`Number for ${updatedPerson.name} updated.`)\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n      }, 3000)\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n        setMessage(`Error: ${person.name} was already deleted from the server.`)\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 3000)\r\n        setPersons(persons.filter(p => p.id !== person.id))\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message}/>\r\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange}/>\r\n      <h2>Add a new contact</h2>\r\n      <PersonForm \r\n        addPerson={addPerson} \r\n        newName={newName} \r\n        newNumber={newNumber}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n        {personsToShow.map(person =>\r\n          <Person key={person.id} person={person} deletePerson={deletePerson}/>)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />, document.getElementById('root')\r\n)"],"sourceRoot":""}